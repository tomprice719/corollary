{% extends "templates/base_pills.html" %}

{% block content %}
<svg width="1200" height="1200" id="svgBox"
     xmlns:xlink="http://www.w3.org/1999/xlink">
  {% for node in nodes %}
  {% if node.multi-post %}
  {% for post in node.posts %}
  <a xlink:href="/tree?selected={{post.id}}" >
    <text id="foo" x="{{node.x}}" y="{{post.y}}">Ancestor: {{post.title}}</text>
  </a>
  {% endfor %}
  {% else %}

  {% ifequal node.node-type "selected" %}
  <rect x="{{node.rect-x}}" y="{{node.rect-y}}" width="1200" height="{{node.rect-height}}"
        style="fill:yellow;fill-opacity:0.5;" />
  {% endifequal %}

  {% if node.arrow-points %}
  <polyline points="{{node.arrow-points}}"
            style="fill:none;stroke:{{node.edge-colour}};stroke-width:2" />
  {% endif %}
  <a xlink:href="/tree?selected={{node.post-id}}" >
    <text id="foo" x="{{node.x}}" y="{{node.y}}">{{node.title}}</text>
  </a>
  {% endif %}

  {% endfor %}
</svg>
{% endblock %}

